---
const currentPath = Astro.url.pathname;
const isChinese = currentPath.includes('cn');
const otherLang = isChinese ? 'en' : 'cn';
const switchTo = currentPath.replace(/(cn|en)/, otherLang);
---

<label class="inline-flex items-center cursor-pointer">
  <span class="mr-2">语言:</span>
  <input type="checkbox" class="sr-only peer" onChange={() => location.href = switchTo} checked={isChinese} />
  <div class="w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-500 transition-all relative">
    <div class="w-5 h-5 bg-white rounded-full absolute left-0.5 top-0.5 transition-transform peer-checked:translate-x-5"></div>
  </div>
</label>
